# 产品需求文档

本文档定义了「家庭照片管理系统」的产品需求。

**作者**: 汪玮芸
**创建日期**: 2025-06-20
**最后更新**: 2025-07-19
**文档状态**: "活跃"
**文档版本**: "**v0.1终极版**"

## 1. 项目概述

### 1.1. 项目背景

家庭照片管理系统是一个学生实践项目，旨在解决以下痛点：

1. **家庭照片分散问题**：一家人拍摄的照片，散落在不同的手机、电脑和云存储服务中，难以统一管理。
2. **长辈使用障碍**：大部分照片管理产品对长辈不友好，功能复杂，操作困难。
3. **隐私担忧**：将照片上传至第三方云服务，存在隐私泄露风险。
4. **无法持续备份**：常见的"拍完就忘"模式，导致重要记忆没有及时备份。

### 1.2. 项目目标

创建一个面向家庭的照片存储与分享空间，使家庭成员能便捷地：

- 将照片备份至本地服务器，确保照片安全。
- 查看全家人上传的照片，分享美好瞬间。
- 通过简单的用户系统快速访问。
- 随时通过网页查看全家的照片库。

### 1.3. 目标用户

- **主要用户**：家庭组织者（通常是30-45岁的父母），负责创建家庭空间并邀请其他家人加入。
- **次要用户**：
  - 家中长辈（60岁以上）：浏览家庭照片的被动使用者，需要简单易用的界面。
  - 青少年子女：偶尔上传照片，主要用于查看家庭照片库。

### 1.4. 开发理念

项目遵循"三三原则"和"先完成，再完美"的迭代开发理念：

- **三三原则**：每个版本最多三个核心需求，每个需求最多拆分为三个功能点
- **先完成，再完美**：优先实现核心功能，确保系统可用，再逐步优化和完善

## 2. 系统核心功能列表 (V1.0 MVP)

### 2.1. 用户认证模块

- **FUNC-01 账号密码登录/注册**
  - 用户通过用户名和密码登录/注册系统
  - 成功登录后，认证状态在客户端保持有效（例如30天），避免用户频繁重新登录。
  - 界面简洁清晰，适合长辈使用

### 2.2. 家庭管理模块

- **FUNC-02 创建家庭空间**
  - 未加入任何家庭的用户可以创建新的家庭空间。
  - 创建者是家庭的第一个成员。
  - 每个家庭有唯一的名称和邀请码。

- **FUNC-03 邀请码加入家庭**
  - 家庭成员可分享邀请码，邀请其他用户加入。
  - 未加入家庭的用户，可凭邀请码加入。
  - **核心约束：一个用户在同一时间只能属于一个家庭。** 如需加入新家庭，必须先退出当前家庭（v0.1暂不提供退出功能，可通过数据库手动操作）。

### 2.3. 照片管理模块

- **FUNC-04 照片上传（单张/多张）**
  - 用户可从本地相册选择一张或多张照片上传
  - 支持常见图片格式（JPG、PNG）
  - 上传时自动显示进度条

- **FUNC-05 照片瀑布流展示**
  - 按时间倒序在主页展示家庭照片
  - 瀑布流布局，适配不同尺寸的照片
  - 支持基础分页功能

- **FUNC-06 照片全屏浏览**
  - 点击缩略图可进入全屏浏览模式
  - 支持前后切换浏览照片
  - 显示照片基本信息（上传者、拍摄时间等）

- **FUNC-18 照片删除**
  - **用户只能删除自己上传的照片。**
  - 删除为软删除，照片进入回收站状态，但v0.1不提供恢复功能。

### 2.4. 相册管理模块

- **FUNC-07 创建相册**
  - 用户可以创建自定义相册，为相册命名和添加描述
  - 相册按创建时间排序展示

- **FUNC-08 相册编辑与删除**
  - 用户可以修改自己创建的相册的名称和描述。
  - 用户可以删除自己创建的相册（不会删除相册中的照片）。

- **FUNC-09 照片归类**
  - 用户可以将家庭内的任何照片添加到一个或多个自己创建的相册中。

- **FUNC-10 相册浏览**
  - 查看相册列表，显示相册名称、封面和照片数量
  - 进入相册后查看该相册内的所有照片

### 2.5. 智能检索模块

- **FUNC-15 按时间检索**
  - 支持选择日期范围筛选照片
  - 提供日期选择器界面

- **FUNC-16 按上传者检索**
  - 支持按照上传者筛选照片
  - 显示家庭成员列表供选择

- **FUNC-17 关键词搜索**
  - 支持通过文件名或照片描述关键词进行简单搜索。

## 3. 非功能需求 (v0.1 简化版)

### 3.1. 性能需求

- **NF-01 加载速度**
  - 首页加载完成时间<3秒（在4G网络环境下）
  - 缩略图加载时间<1秒

- **NF-02 上传性能**
  - 单张照片(3MB)上传完成时间<5秒（在WiFi环境下）
  - 支持最大20张照片的批量上传

- **NF-03 响应时间**
  - API平均响应时间<200ms

### 3.2. 安全与隐私需求

- **NF-04 数据安全**
  - 用户密码使用安全哈希算法存储
  - 敏感操作需要通过认证检查

- **NF-05 访问控制**
  - 严格的家庭资源隔离，确保用户只能访问自己所在家庭的照片
  - 用户的认证状态通过安全的Token机制进行管理。

### 3.3. 可靠性需求

- **NF-07 系统可用性**
  - 作为学生实践项目，可接受部分计划内的维护时间
  - 定期数据备份，确保数据可恢复性

- **NF-08 容错性**
  - 在部分组件故障时，系统仍能提供核心功能
  - 错误页面应提供明确的错误信息

### 3.4. 可用性需求

- **NF-09 长辈友好设计**
  - 界面设计简洁明了，避免复杂操作
  - 主要功能按钮尺寸足够大（至少48x48像素）
  - 文字清晰，对比度高，字号不小于16px

- **NF-10 响应式设计**
  - 完全支持移动端（iOS/Android浏览器）
  - 适配平板设备和桌面端浏览器

## 4. 用户界面需求

### 4.1. 页面布局

- **UI-01 主页布局**
  - 顶部：导航栏（家庭名称、成员按钮、上传按钮）
  - 中部：照片瀑布流展示区
  - 底部：分页导航

- **UI-02 照片浏览**
  - 全屏显示选中照片
  - 左右箭头用于切换照片
  - 底部信息栏显示照片详情

- **UI-03 相册管理**
  - 相册列表以网格形式展示
  - 相册封面、名称、照片数量清晰可见
  - 创建相册按钮位于页面显著位置

### 4.2. 交互设计

- **UI-04 拖拽操作**
  - 支持拖拽照片到相册中
  - 支持拖拽调整相册中照片顺序
  - 操作过程中有视觉反馈

## 5. 学生实践相关

### 5.1. 学习目标

- **学习Flask Web框架**：理解路由、请求处理、响应生成等核心概念
- **掌握SQLite数据库**：学习数据库设计、SQL查询和ORM操作
- **前端技能提升**：实践HTML、CSS、JavaScript的基础应用
- **软件工程实践**：体验完整的软件开发流程，包括需求分析、设计、实现和测试

### 5.2. 开发建议

- **三三原则**：遵循"三三原则"，每个版本最多实现三个核心需求，每个需求最多拆分为三个功能点
- **先完成，再完美**：优先实现核心功能，确保系统可用，再逐步优化和完善
- **渐进式开发**：建议按照"用户-家庭-照片-相册-搜索"的顺序，分模块逐步实现功能
- **边学边做**：结合学习材料和示例代码，逐步掌握所需技能

### 5.3. 评估标准

- **功能完整性**：是否实现了规定的核心功能
- **代码质量**：代码是否清晰、有注释、遵循良好实践
- **用户体验**：界面是否友好，操作是否直观
- **技术应用**：是否正确应用了相关技术框架和工具
- **文档完整性**：是否提供了完整的设计和使用文档

## 6. 未来规划 (V1.0 范围之外)

以下功能属于未来可以考虑的扩展内容：

- **FUTURE-01 AI照片识别与自动标签**
- **FUTURE-02 照片标签管理**
  - 创建、管理、删除标签
  - 为照片批量添加或移除标签
  - 按标签筛选照片
- **FUTURE-03 照片恢复**
  - 提供回收站界面，可查看被删除的照片
  - 支持从回收站恢复照片
- **FUTURE-04 高级搜索**
  - 支持多条件组合搜索
  - 引入专门的搜索索引以提升性能
- **FUTURE-05 视频支持**
- **FUTURE-06 用户角色细分**
  - 在家庭中增加如"访客"等更多角色

---

最后更新: 2025-07-19 | 版本: v0.1终极版